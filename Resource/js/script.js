$(document).ready(function () {

    //Reading String
    $('#string_generate').on('submit', function(e){
        e.preventDefault();
        $.ajax({
            url: "ajax_action.php",
            method: "POST",
            data:new FormData(this),
            contentType:false,
            processData:false,
            success:function(data){
                $('#string_data').html(data);
            }
        });
    });

    //Hashing data
    $('#hashing_data').on('submit', function(e){
        e.preventDefault();
        $.ajax({
            url: "ajax_action.php",
            method: "POST",
            data:new FormData(this),
            contentType:false,
            processData:false,
            success:function(data){
                const myArray = data.split(" ");
                $('#MD5').val(myArray[0]);
                $('#SHA1').val(myArray[1]);
            }
        });
    });

    //Scanning 

    function hideprogressbar(){
        $("#progress_bar").css("display","none");
    }

    $('#scanning_file').on('submit', function(e){

        $("#progress_bar").css("display","");
        $('#progress_scanning').each(function(){
            $(this)
            .data("origWidth", $(this).width())
            .width(0)
            .animate({
                width: $(this).data("origWidth")
            }, 2000)
        });
        setTimeout(hideprogressbar, 3000);

        e.preventDefault();
        $.ajax({
            url: "scanAPI.php",
            method: "POST",
            data:new FormData(this),
            contentType:false,
            processData:false,
            success:function(data){
                $('#result').html(data)
            }
        });
        setTimeout(showModal, 3000);

    });

    function showModal(){
        var myModal = new bootstrap.Modal(document.getElementById("exampleModal"), {});
        myModal.show();
        var md5_value = "details_scan.php?md5_value=" + $('#md5_value').val();
        $('#details_scan').attr("href", md5_value);
    }
    

    //choose data type
    $('#type_data').change(function(){
        var type_data = $(this).val();
        if(type_data == 1){
            $('#data_insert').attr("type","file");
        }
        else{
            $('#data_insert').attr("type","text");
        }
    });

    //Tracking menu siderbar
    $('.items li').click(function () { 
        $(this).addClass("activing").siblings().removeClass("activing");
    })

    //Button menu for mobile reponsive
    $('#menu-btn').click(function () {
        $('#menu').toggleClass("active");
    })

    //Data table for tbl_cart
    $('#tbl_cart').DataTable( {
        "pageLength": 100,
        dom: 'Bfrtip',
        buttons: [
            'copy', 'csv', 'excel', 'pdf', 'print'
        ]
    } );
    
    //Div clickable
    $('.clickable').click(function(){
        window.location = $(this).find("a").attr("href");
    });

    //Jquery animate counting
    $(".num").counterUp();

    //Change format of select tag to select2
     $('.select2_tag').select2();


});